<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>FinanceHub - 金融ダッシュボード</title>
    <link rel="stylesheet" href="style.css">
</head>
<body>
    <nav class="top-nav">
        <a href="../index.html" class="home-link">
            <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                <path d="m3 9 9-7 9 7v11a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2z"></path>
                <polyline points="9 22 9 12 15 12 15 22"></polyline>
            </svg>
            ホームに戻る
        </a>
    </nav>
    <div class="app-container">
        <!-- ヘッダー -->
        <header class="header">
            <div class="header-left">
                <div class="logo">
                    <svg width="36" height="36" viewBox="0 0 36 36" fill="none">
                        <rect width="36" height="36" rx="8" fill="url(#logoGradient)"/>
                        <path d="M18 8 L18 28 M10 18 L26 18" stroke="white" stroke-width="3" stroke-linecap="round"/>
                        <defs>
                            <linearGradient id="logoGradient" x1="0" y1="0" x2="36" y2="36">
                                <stop offset="0%" stop-color="#667eea"/>
                                <stop offset="100%" stop-color="#764ba2"/>
                            </linearGradient>
                        </defs>
                    </svg>
                    <h1>FinanceHub</h1>
                </div>
                <nav class="main-nav">
                    <button class="nav-btn active" data-view="dashboard">ダッシュボード</button>
                    <button class="nav-btn" data-view="portfolio">ポートフォリオ</button>
                    <button class="nav-btn" data-view="transactions">取引履歴</button>
                    <button class="nav-btn" data-view="analytics">分析</button>
                </nav>
            </div>
            <div class="header-right">
                <button class="icon-btn" id="notificationBtn">
                    <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M18 8A6 6 0 0 0 6 8c0 7-3 9-3 9h18s-3-2-3-9"></path>
                        <path d="M13.73 21a2 2 0 0 1-3.46 0"></path>
                    </svg>
                    <span class="badge">3</span>
                </button>
                <button class="icon-btn" id="themeToggle">
                    <svg id="moonIcon" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <path d="M21 12.79A9 9 0 1 1 11.21 3 7 7 0 0 0 21 12.79z"></path>
                    </svg>
                    <svg id="sunIcon" style="display:none;" xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                        <circle cx="12" cy="12" r="5"></circle>
                        <line x1="12" y1="1" x2="12" y2="3"></line>
                        <line x1="12" y1="21" x2="12" y2="23"></line>
                        <line x1="4.22" y1="4.22" x2="5.64" y2="5.64"></line>
                        <line x1="18.36" y1="18.36" x2="19.78" y2="19.78"></line>
                        <line x1="1" y1="12" x2="3" y2="12"></line>
                        <line x1="21" y1="12" x2="23" y2="12"></line>
                        <line x1="4.22" y1="19.78" x2="5.64" y2="18.36"></line>
                        <line x1="18.36" y1="5.64" x2="19.78" y2="4.22"></line>
                    </svg>
                </button>
                <div class="user-profile">
                    <img src="data:image/svg+xml,%3Csvg xmlns='http://www.w3.org/2000/svg' width='40' height='40'%3E%3Ccircle cx='20' cy='20' r='20' fill='%23667eea'/%3E%3Ctext x='20' y='26' font-size='16' fill='white' text-anchor='middle' font-family='Arial'%3EU%3C/text%3E%3C/svg%3E" alt="User">
                    <span>田中 太郎</span>
                </div>
            </div>
        </header>

        <!-- メインコンテンツ -->
        <main class="main-content">
            <!-- ダッシュボードビュー -->
            <div id="dashboardView" class="view active">
                <!-- 統計カード -->
                <div class="stats-overview">
                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">総資産</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <line x1="12" y1="1" x2="12" y2="23"></line>
                                <path d="M17 5H9.5a3.5 3.5 0 0 0 0 7h5a3.5 3.5 0 0 1 0 7H6"></path>
                            </svg>
                        </div>
                        <div class="stat-value">¥12,450,000</div>
                        <div class="stat-change positive">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="18 15 12 9 6 15"></polyline>
                            </svg>
                            <span>+12.5% 今月</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">投資利益</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="22 12 18 12 15 21 9 3 6 12 2 12"></polyline>
                            </svg>
                        </div>
                        <div class="stat-value">¥1,250,000</div>
                        <div class="stat-change positive">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="18 15 12 9 6 15"></polyline>
                            </svg>
                            <span>+8.3% 今月</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">月間支出</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <rect x="2" y="7" width="20" height="14" rx="2" ry="2"></rect>
                                <path d="M16 21V5a2 2 0 0 0-2-2h-4a2 2 0 0 0-2 2v16"></path>
                            </svg>
                        </div>
                        <div class="stat-value">¥350,000</div>
                        <div class="stat-change negative">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="6 9 12 15 18 9"></polyline>
                            </svg>
                            <span>+5.2% 今月</span>
                        </div>
                    </div>

                    <div class="stat-card">
                        <div class="stat-header">
                            <span class="stat-title">貯蓄率</span>
                            <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <circle cx="12" cy="12" r="10"></circle>
                                <path d="M16 8h-6a2 2 0 1 0 0 4h4a2 2 0 1 1 0 4H8"></path>
                                <path d="M12 18V6"></path>
                            </svg>
                        </div>
                        <div class="stat-value">42%</div>
                        <div class="stat-change positive">
                            <svg xmlns="http://www.w3.org/2000/svg" width="16" height="16" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                                <polyline points="18 15 12 9 6 15"></polyline>
                            </svg>
                            <span>+3.1% 今月</span>
                        </div>
                    </div>
                </div>

                <!-- チャートセクション -->
                <div class="chart-section">
                    <div class="chart-container large">
                        <div class="chart-header">
                            <h3>資産推移</h3>
                            <div class="chart-controls">
                                <button class="chart-btn active" data-period="1M">1ヶ月</button>
                                <button class="chart-btn" data-period="3M">3ヶ月</button>
                                <button class="chart-btn" data-period="6M">6ヶ月</button>
                                <button class="chart-btn" data-period="1Y">1年</button>
                            </div>
                        </div>
                        <canvas id="portfolioChart"></canvas>
                    </div>

                    <div class="chart-container">
                        <div class="chart-header">
                            <h3>資産配分</h3>
                        </div>
                        <canvas id="allocationChart"></canvas>
                        <div class="allocation-legend" id="allocationLegend"></div>
                    </div>
                </div>

                <!-- 最新取引 -->
                <div class="recent-section">
                    <div class="section-header">
                        <h3>最近の取引</h3>
                        <a href="#" class="view-all">すべて見る →</a>
                    </div>
                    <div class="transactions-list" id="recentTransactions"></div>
                </div>

                <!-- マーケット情報 -->
                <div class="market-section">
                    <div class="section-header">
                        <h3>マーケット情報</h3>
                    </div>
                    <div class="market-grid" id="marketData"></div>
                </div>
            </div>

            <!-- ポートフォリオビュー -->
            <div id="portfolioView" class="view">
                <div class="portfolio-header">
                    <h2>ポートフォリオ</h2>
                    <button class="btn-primary" id="addAssetBtn">
                        <svg xmlns="http://www.w3.org/2000/svg" width="20" height="20" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2">
                            <line x1="12" y1="5" x2="12" y2="19"></line>
                            <line x1="5" y1="12" x2="19" y2="12"></line>
                        </svg>
                        資産を追加
                    </button>
                </div>

                <div class="portfolio-grid" id="portfolioGrid"></div>
            </div>

            <!-- 取引履歴ビュー -->
            <div id="transactionsView" class="view">
                <div class="transactions-header">
                    <h2>取引履歴</h2>
                    <div class="filter-controls">
                        <select id="transactionFilter">
                            <option value="all">すべて</option>
                            <option value="buy">購入</option>
                            <option value="sell">売却</option>
                            <option value="dividend">配当</option>
                        </select>
                        <input type="date" id="dateFilter">
                    </div>
                </div>

                <div class="transactions-table">
                    <table>
                        <thead>
                            <tr>
                                <th>日付</th>
                                <th>種類</th>
                                <th>銘柄</th>
                                <th>数量</th>
                                <th>価格</th>
                                <th>合計</th>
                                <th>状態</th>
                            </tr>
                        </thead>
                        <tbody id="transactionsTableBody"></tbody>
                    </table>
                </div>
            </div>

            <!-- 分析ビュー -->
            <div id="analyticsView" class="view">
                <h2>詳細分析</h2>

                <div class="analytics-grid">
                    <div class="analytics-card">
                        <h3>月間収支</h3>
                        <canvas id="monthlyChart"></canvas>
                    </div>

                    <div class="analytics-card">
                        <h3>カテゴリ別支出</h3>
                        <canvas id="categoryChart"></canvas>
                    </div>

                    <div class="analytics-card">
                        <h3>投資パフォーマンス</h3>
                        <canvas id="performanceChart"></canvas>
                    </div>

                    <div class="analytics-card">
                        <h3>リスク分析</h3>
                        <div class="risk-metrics">
                            <div class="metric-item">
                                <span class="metric-label">シャープレシオ</span>
                                <span class="metric-value">1.85</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ボラティリティ</span>
                                <span class="metric-value">12.3%</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">最大ドローダウン</span>
                                <span class="metric-value">-8.5%</span>
                            </div>
                            <div class="metric-item">
                                <span class="metric-label">ベータ値</span>
                                <span class="metric-value">0.92</span>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </main>
    </div>

    <!-- モーダル: 資産追加 -->
    <div id="addAssetModal" class="modal">
        <div class="modal-content">
            <div class="modal-header">
                <h3>新しい資産を追加</h3>
                <button class="modal-close">&times;</button>
            </div>
            <div class="modal-body">
                <div class="form-group">
                    <label>資産タイプ</label>
                    <select id="assetType">
                        <option value="stock">株式</option>
                        <option value="crypto">暗号資産</option>
                        <option value="bond">債券</option>
                        <option value="fund">投資信託</option>
                    </select>
                </div>
                <div class="form-group">
                    <label>銘柄名</label>
                    <input type="text" id="assetName" placeholder="例: Apple Inc.">
                </div>
                <div class="form-group">
                    <label>数量</label>
                    <input type="number" id="assetQuantity" placeholder="0">
                </div>
                <div class="form-group">
                    <label>購入価格</label>
                    <input type="number" id="assetPrice" placeholder="0">
                </div>
            </div>
            <div class="modal-footer">
                <button class="btn-secondary modal-close">キャンセル</button>
                <button class="btn-primary" id="saveAssetBtn">追加</button>
            </div>
        </div>
    </div>

    <script src="chart.js"></script>
    <script src="app.js"></script>
</body>
</html>
