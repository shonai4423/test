# オセロゲーム - Othello Game

プロフェッショナルグレードのオセロ（リバーシ）ゲーム。美しいUI、AI対戦、統計機能を備えた本格的なWebアプリケーションです。

## 主な機能

### 🎮 ゲームプレイ
- **完全なオセロルール実装**
  - 8×8のゲームボード
  - 正確な石の反転ロジック
  - パス処理（有効な手がない場合）
  - ゲーム終了判定

- **プレイモード**
  - 対人戦（PvP）
  - CPU対戦（3つの難易度）
    - 易しい：ランダム配置
    - 普通：角と辺を優先
    - 難しい：位置評価アルゴリズム

- **ゲーム機能**
  - 元に戻す（アンドゥ）
  - ヒント表示
  - タイマー
  - 有効な手の可視化

### 🎨 ビジュアル
- **アニメーション**
  - 石を置く時のスケールアニメーション
  - 石を反転する時のフリップアニメーション
  - パルスエフェクト（有効な手）
  - スムーズなトランジション

- **デザイン**
  - グラデーションカラー
  - 3Dライクな石のデザイン
  - レスポンシブレイアウト
  - ダークモード完全対応

### 📊 統計機能
- 総ゲーム数
- 勝利数
- 引き分け数
- 勝率（パーセンテージ）
- LocalStorageで永続化

### 🔊 サウンド
- Web Audio APIによる効果音
  - 石を置く音
  - 勝利音
  - ON/OFF切り替え可能

## 技術的特徴

### ゲームエンジン
```javascript
class OthelloGame {
    - 完全なゲームロジック実装
    - 有効手計算アルゴリズム
    - 8方向の石反転チェック
    - ゲーム状態管理
    - 履歴管理（アンドゥ用）
}
```

### AI実装

#### 易しい（Easy）
- ランダムに有効な手から選択
- 初心者向け

#### 普通（Normal）
- 角（コーナー）を最優先
- 辺（エッジ）を次点で優先
- 戦略的な配置

#### 難しい（Hard）
- 位置評価マトリックス使用
- 各マスに重み付け（100点満点）
- ミニマックス的アプローチ
- 上級者向け

```javascript
// 位置評価マトリックス
const positionWeights = [
    [100, -20, 10, 5, 5, 10, -20, 100],  // 角は最高得点
    [-20, -50, -2, -2, -2, -2, -50, -20], // 角の隣は危険
    // ... 戦略的重み付け
];
```

### データ構造
- ボード: 8×8の2次元配列
- 状態: null, 'black', 'white'
- 履歴: 配列によるスタック管理

### アニメーション技術
- CSS Keyframes
- Transform（scale, rotate）
- Cubic-bezier イージング
- タイミング制御（setTimeout）

## 使用方法

### 基本操作
1. ゲームモードを選択（対人戦またはCPU戦）
2. 緑色のマス（有効な手）をクリック
3. 自動的に石が反転し、ターンが交代

### ボタン機能
- **新しいゲーム**: ゲームをリセット
- **元に戻す**: 1手前に戻る
- **ヒント**: 最初の有効手を点滅表示

### 設定
- **サウンド**: ヘッダーのスピーカーアイコンでON/OFF
- **テーマ**: 月/太陽アイコンでダークモード切り替え

## ゲームルール

### 基本ルール
1. 黒が先手でスタート
2. 相手の石を挟むように置く
3. 挟んだ石を自分の色に反転
4. 有効な手がない場合はパス
5. どちらも置けなくなったらゲーム終了
6. 石の数が多い方が勝利

### 戦略のヒント
- **角（コーナー）**: 最重要マス
- **辺（エッジ）**: 安定した配置
- **角の隣**: 避けるべきマス
- **中央**: 序盤は重要だが不安定

## カスタマイズ

### テーマカラー変更
`style.css`の`:root`セクション：

```css
:root {
    --primary: #667eea;
    --secondary: #764ba2;
    --board-bg: #0d9488;
    /* ... */
}
```

### AI難易度調整
`app.js`の`cpuMoveHard()`関数内の位置評価マトリックスを調整

### ボードサイズ
変数を変更すれば異なるサイズも実装可能（現在は8×8固定）

## パフォーマンス

- 軽量な実装（外部ライブラリ不要）
- 効率的なアルゴリズム（O(n²)）
- スムーズな60fpsアニメーション
- LocalStorageによる高速データ保存

## ブラウザ対応

- Chrome 90+
- Firefox 88+
- Safari 14+
- Edge 90+

## 今後の拡張予定

- [ ] オンライン対戦機能
- [ ] リプレイ機能
- [ ] より高度なAI（αβ法、モンテカルロ木探索）
- [ ] カスタムボードサイズ
- [ ] トーナメントモード
- [ ] 棋譜保存・読み込み
- [ ] AI vs AI観戦モード

## 技術スタック

- **HTML5**: セマンティックマークアップ
- **CSS3**: Grid, Flexbox, Animations, Variables
- **JavaScript ES6+**: Classes, Modules, LocalStorage
- **Web Audio API**: サウンド効果

## アルゴリズム詳細

### 有効手の判定
```javascript
getValidMoves(player) {
    // 全マスをスキャン
    // 8方向をチェック
    // 反転可能な石があるか確認
    // O(64 × 8) = O(512) ≈ O(1)
}
```

### 石の反転
```javascript
checkDirection(row, col, dx, dy, player) {
    // 指定方向に反転可能な石を検索
    // 連続する相手の石をカウント
    // 自分の石で挟めるか確認
}
```

## ライセンス

MIT License

---

**開発者向けノート**: このゲームは完全にクライアントサイドで動作します。オンライン対戦を実装する場合は、WebSocketまたはWebRTCによるP2P通信が必要です。
